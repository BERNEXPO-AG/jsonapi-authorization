/Users/thomsch/.rvm/rubies/ruby-3.0.0/bin/ruby -I/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib:/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-support-3.11.0/lib /Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/exe/rspec ./spec/requests/tricky_operations_spec.rb:52
Run options: include {:locations=>{"./spec/requests/tricky_operations_spec.rb"=>[52]}}

Tricky operations
  POST /comments (with relationships link to articles)
    authorized for create_resource on Comment and newly associated article
      is expected to be successful (FAILED - 1)

Failures:

  1) Tricky operations POST /comments (with relationships link to articles) authorized for create_resource on Comment and newly associated article is expected to be successful
     Failure/Error: is_expected.to be_successful

       expected response to be successful but HTTP code was 500. Last request was POST to /comments with body:
       {
         "data": {
           "type": "comments",
           "relationships": {
             "article": {
               "data": {
                 "id": "2",
                 "type": "articles"
               }
             }
           }
         }
       }

       Response body was:
       {"errors":[{"title":"Internal Server Error","detail":"Internal Server Error","code":"500","status":"500","meta":{"exception":"undefined method `where' for nil:NilClass","backtrace":["/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/active_relation_resource.rb:877:in `apply_filter'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/active_relation_resource.rb:846:in `block in apply_filters'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/active_relation_resource.rb:845:in `each'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/active_relation_resource.rb:845:in `apply_filters'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/active_relation_resource.rb:777:in `filter_records'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/active_relation_resource.rb:707:in `apply_request_settings_to_records'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/active_relation_resource.rb:107:in `find_fragments'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/processor.rb:412:in `find_resource_id_tree'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/processor.rb:372:in `find_resource_set'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/processor.rb:245:in `create_resource'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/processor.rb:34:in `block (2 levels) in process'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/callbacks.rb:135:in `run_callbacks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/processor.rb:33:in `block in process'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/callbacks.rb:101:in `run_callbacks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/processor.rb:32:in `process'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/operation.rb:12:in `process'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/acts_as_resource_controller.rb:140:in `process_operation'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/acts_as_resource_controller.rb:110:in `block (3 levels) in process_request'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/request_parser.rb:32:in `each'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/acts_as_resource_controller.rb:97:in `block (2 levels) in process_request'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/callbacks.rb:101:in `run_callbacks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/acts_as_resource_controller.rb:96:in `block in process_request'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/acts_as_resource_controller.rb:127:in `block (2 levels) in process_operations'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activerecord-6.0.5/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `block in transaction'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activerecord-6.0.5/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activerecord-6.0.5/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activerecord-6.0.5/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activerecord-6.0.5/lib/active_record/transactions.rb:212:in `transaction'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/acts_as_resource_controller.rb:126:in `block in process_operations'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/callbacks.rb:101:in `run_callbacks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/acts_as_resource_controller.rb:125:in `process_operations'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/acts_as_resource_controller.rb:95:in `process_request'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/jsonapi-resources-0.10.7/lib/jsonapi/acts_as_resource_controller.rb:31:in `create'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/abstract_controller/base.rb:195:in `process_action'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_controller/metal/rendering.rb:30:in `process_action'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/abstract_controller/callbacks.rb:42:in `block in process_action'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/callbacks.rb:112:in `block in run_callbacks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actiontext-6.0.5/lib/action_text/rendering.rb:19:in `with_renderer'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actiontext-6.0.5/lib/action_text/engine.rb:55:in `block (4 levels) in \u003cclass:Engine\u003e'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/callbacks.rb:121:in `instance_exec'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/callbacks.rb:121:in `block in run_callbacks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/callbacks.rb:139:in `run_callbacks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/abstract_controller/callbacks.rb:41:in `process_action'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_controller/metal/rescue.rb:22:in `process_action'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/notifications.rb:180:in `block in instrument'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/notifications/instrumenter.rb:24:in `instrument'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/notifications.rb:180:in `instrument'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_controller/metal/instrumentation.rb:32:in `process_action'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_controller/metal/params_wrapper.rb:245:in `process_action'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activerecord-6.0.5/lib/active_record/railties/controller_runtime.rb:27:in `process_action'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/abstract_controller/base.rb:136:in `process'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionview-6.0.5/lib/action_view/rendering.rb:39:in `process'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_controller/metal.rb:190:in `dispatch'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_controller/metal.rb:254:in `dispatch'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/routing/route_set.rb:50:in `dispatch'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/routing/route_set.rb:33:in `serve'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/journey/router.rb:49:in `block in serve'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/journey/router.rb:32:in `each'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/journey/router.rb:32:in `serve'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/routing/route_set.rb:834:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-2.2.3/lib/rack/tempfile_reaper.rb:15:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-2.2.3/lib/rack/etag.rb:27:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-2.2.3/lib/rack/conditional_get.rb:40:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-2.2.3/lib/rack/head.rb:12:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/http/content_security_policy.rb:18:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:266:in `context'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-2.2.3/lib/rack/session/abstract/id.rb:260:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/middleware/cookies.rb:654:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/callbacks.rb:101:in `run_callbacks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/middleware/callbacks.rb:26:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/railties-6.0.5/lib/rails/rack/logger.rb:37:in `call_app'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/railties-6.0.5/lib/rails/rack/logger.rb:26:in `block in call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/tagged_logging.rb:80:in `block in tagged'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/tagged_logging.rb:28:in `tagged'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/tagged_logging.rb:80:in `tagged'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/railties-6.0.5/lib/rails/rack/logger.rb:26:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/middleware/remote_ip.rb:81:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/middleware/request_id.rb:27:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-2.2.3/lib/rack/method_override.rb:24:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-2.2.3/lib/rack/runtime.rb:22:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/activesupport-6.0.5/lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/middleware/executor.rb:14:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/middleware/static.rb:126:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-2.2.3/lib/rack/sendfile.rb:110:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/actionpack-6.0.5/lib/action_dispatch/middleware/host_authorization.rb:97:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/railties-6.0.5/lib/rails/engine.rb:527:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-test-1.1.0/lib/rack/mock_session.rb:29:in `request'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-test-1.1.0/lib/rack/test.rb:266:in `process_request'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-test-1.1.0/lib/rack/test.rb:129:in `custom_request'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rack-test-1.1.0/lib/rack/test.rb:66:in `post'","/Users/thomsch/.rvm/rubies/ruby-3.0.0/lib/ruby/3.0.0/forwardable.rb:238:in `post'","/Users/thomsch/crunchy/jsonapi-auth/crunchy/jsonapi-authorization/spec/requests/tricky_operations_spec.rb:22:in `block (3 levels) in \u003ctop (required)\u003e'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/memoized_helpers.rb:343:in `block (2 levels) in let'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/memoized_helpers.rb:179:in `block (3 levels) in fetch_or_store'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/memoized_helpers.rb:179:in `fetch'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/memoized_helpers.rb:179:in `block (2 levels) in fetch_or_store'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-support-3.11.0/lib/rspec/support/reentrant_mutex.rb:23:in `synchronize'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/memoized_helpers.rb:178:in `block in fetch_or_store'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/memoized_helpers.rb:177:in `fetch'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/memoized_helpers.rb:177:in `fetch_or_store'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/memoized_helpers.rb:343:in `block in let'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/memoized_helpers.rb:121:in `is_expected'","/Users/thomsch/crunchy/jsonapi-auth/crunchy/jsonapi-authorization/spec/requests/tricky_operations_spec.rb:56:in `block (4 levels) in \u003ctop (required)\u003e'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example.rb:263:in `instance_exec'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example.rb:263:in `block in run'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example.rb:511:in `block in with_around_and_singleton_context_hooks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example.rb:468:in `block in with_around_example_hooks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/hooks.rb:486:in `block in run'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/hooks.rb:626:in `block in run_around_example_hooks_for'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example.rb:352:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-rails-4.1.2/lib/rspec/rails/adapters.rb:75:in `block (2 levels) in \u003cmodule:MinitestLifecycleAdapter\u003e'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example.rb:457:in `instance_exec'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example.rb:457:in `instance_exec'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/hooks.rb:390:in `execute_with'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/hooks.rb:628:in `block (2 levels) in run_around_example_hooks_for'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example.rb:352:in `call'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/hooks.rb:629:in `run_around_example_hooks_for'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/hooks.rb:486:in `run'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example.rb:468:in `with_around_example_hooks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example.rb:511:in `with_around_and_singleton_context_hooks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example.rb:259:in `run'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example_group.rb:646:in `block in run_examples'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example_group.rb:642:in `map'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example_group.rb:642:in `run_examples'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example_group.rb:607:in `run'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example_group.rb:608:in `block in run'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example_group.rb:608:in `map'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example_group.rb:608:in `run'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example_group.rb:608:in `block in run'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example_group.rb:608:in `map'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/example_group.rb:608:in `run'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/runner.rb:121:in `block (3 levels) in run_specs'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/runner.rb:121:in `map'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/runner.rb:121:in `block (2 levels) in run_specs'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/configuration.rb:2068:in `with_suite_hooks'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/runner.rb:116:in `block in run_specs'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/reporter.rb:74:in `report'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/runner.rb:115:in `run_specs'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/runner.rb:89:in `run'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/runner.rb:71:in `run'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/lib/rspec/core/runner.rb:45:in `invoke'","/Users/thomsch/.rvm/gems/ruby-3.0.0/gems/rspec-core-3.11.0/exe/rspec:4:in `\u003cmain\u003e'"],"application_backtrace":[]}}]}
     # ./spec/requests/tricky_operations_spec.rb:56:in `block (4 levels) in <top (required)>'

Finished in 0.15069 seconds (files took 2.12 seconds to load)
1 example, 1 failure

Failed examples:

rspec ./spec/requests/tricky_operations_spec.rb:52 # Tricky operations POST /comments (with relationships link to articles) authorized for create_resource on Comment and newly associated article is expected to be successful

